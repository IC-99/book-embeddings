<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>WebAssembly Demo</title>
    <style>
        body { font-family: Arial, sans-serif; }
        #console { width: 100%; height: 400px; border: 1px solid #ccc; padding: 10px; overflow-y: scroll; background: #f0f0f0; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>WebAssembly Demo</h1>
    <div id="console"></div>
    <script>
        // Function to log messages to the console div
        (function() {
            var consoleDiv = document.getElementById('console');
            var oldLog = console.log;
            var oldError = console.error;

            console.log = function(message) {
                if (typeof message === 'object') {
                    message = JSON.stringify(message);
                }
                oldLog.apply(console, arguments);
                var newLog = document.createElement('div');
                newLog.textContent = message;
                consoleDiv.appendChild(newLog);
                consoleDiv.scrollTop = consoleDiv.scrollHeight;
            };

            console.error = function(message) {
                if (typeof message === 'object') {
                    message = JSON.stringify(message);
                }
                oldError.apply(console, arguments);
                var newLog = document.createElement('div');
                newLog.style.color = 'red';
                newLog.textContent = 'Error: ' + message;
                consoleDiv.appendChild(newLog);
                consoleDiv.scrollTop = consoleDiv.scrollHeight;
            };

            window.onerror = function(message, source, lineno, colno, error) {
                console.error(message + ' at ' + source + ':' + lineno + ':' + colno);
                return false; // Let the browser console also log the error
            };
        })();
    </script>
    <script src="binary.js"></script>
</body>
</html>
